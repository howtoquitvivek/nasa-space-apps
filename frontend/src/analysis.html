<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Anveshak - Stellar AI</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/analysis.css" />
</head>
<body>
    

<div class="nasa-watermark">ANVESHAK</div>
<div class="particles-container" id="particles"></div>

<div class="page-container">
    <div class="top-bar">
        <div class="dataset-info">
            <div class="zoom-info" id="zoom-info">
                Zoom Level: N/A
            </div>
            <div class="dataset-badge">
                <i class="fas fa-satellite me-2"></i>
                <span id="dataset-name">Loading...</span>
            </div>
            <a href="home.html" class="home-link-integrated">
                <i class="fas fa-home"></i>
            </a>
        </div>
    </div>

    <div class="ai-showcase-panel">
        <div class="ai-panel-header">
            <div class="ai-panel-title">
                <div class="ai-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="title-content">
                    <h3>Stellar AI System</h3>
                    <p>Real-time analysis & tools</p>
                </div>
            </div>
            <button id="ai-panel-toggle" class="panel-toggle-btn">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>
        <div class="ai-panel-content" id="ai-panel-content">
            <div class="ai-features-grid">
                <div class="ai-feature-card mvp-card">
                    <div class="feature-header">
                        <div class="feature-icon mvp-icon">
                            <i class="fas fa-search-plus"></i>
                        </div>
                        <span class="mvp-badge">MVP</span>
                    </div>
                    <div class="feature-content">
                        <h4>Similarity Search</h4>
                        <p>
                            Find features visually similar to a selected annotation across the dataset.
                        </p>
                        <div class="feature-stats">
                            <div class="stat">
                                <span class="stat-value" id="similarity-accuracy">95.1%</span>
                                <span class="stat-label">Accuracy</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value" id="search-speed">0.32s</span>
                                <span class="stat-label">Latency</span>
                            </div>
                        </div>
                        <button class="feature-btn primary" id="activate-similarity-btn">
                            <i class="fas fa-satellite-dish"></i>
                            Activate Search
                        </button>
                        <!-- Added Deep Search Button -->
                        <button class="feature-btn secondary" id="search-deeper-btn" disabled style="margin-top: 10px;">
                            <i class="fas fa-layer-group"></i>
                            Search Deeper
                        </button>
                    </div>
                </div>

                <div class="ai-feature-card">
                    <div class="feature-header">
                        <div class="feature-icon clustering-icon">
                            <i class="fas fa-diagram-project"></i>
                        </div>
                        <span class="future-badge">Coming Soon</span>
                    </div>
                    <div class="feature-content">
                        <h4>Automated Clustering</h4>
                        <p>
                            Identify and group similar features on the surface autonomously.
                        </p>
                        <div class="clustering-controls">
                            <div class="control-group">
                                <label for="clustering-algorithm">Algorithm:</label>
                                <select id="clustering-algorithm" class="algorithm-select">
                                    <option value="kmeans">K-Means</option>
                                    <option value="dbscan">DBSCAN</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label for="cluster-count">Clusters:</label>
                                <input type="range" id="cluster-count" class="cluster-slider" min="2" max="10" value="5">
                                <span class="cluster-value" id="cluster-count-display">5</span>
                            </div>
                        </div>
                        <button class="feature-btn primary" id="simulate-clustering-btn" disabled>
                            <i class="fas fa-brain"></i>
                            Run Clustering
                        </button>
                    </div>
                </div>
            </div>

            <div class="ai-status-monitor">
                <div class="monitor-header">
                    <h4>AI Core Status</h4>
                    <div class="status-indicator active"></div>
                </div>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-icon">
                            <i class="fas fa-microchip"></i>
                        </div>
                        <div class="status-info">
                            <div class="status-label">GPU Usage</div>
                            <div class="status-value" id="gpu-status">63% Active</div>
                        </div>
                        <div class="status-bar">
                            <div class="status-fill" style="width: 85%;"></div>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon">
                            <i class="fas fa-memory"></i>
                        </div>
                        <div class="status-info">
                            <div class="status-label">Memory Usage</div>
                            <div class="status-value" id="memory-status">22.5 GB</div>
                        </div>
                        <div class="status-bar">
                            <div class="status-fill" style="width: 75%;"></div>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="status-info">
                            <div class="status-label">Vector Index</div>
                            <div class="status-value" id="index-status">2.5M vectors</div>
                        </div>
                        <div class="status-bar">
                            <div class="status-fill" style="width: 90%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="workspace-panel">
        <div class="analysis-feed-panel">
            <div class="feed-header">
                <h4>
                    Analysis Feed

                </h4>
                <div class="feed-header-controls">
                    <button class="feed-clear-btn" id="clear-feed-btn" title="Clear Feed">
                        <i class="fas fa-trash"></i>
                    </button>
                    <!-- <button class="feed-collapse-btn" id="feed-collapse-btn" title="Collapse/Expand">
                        <i class="fas fa-chevron-down"></i>
                    </button> -->
                </div>
            </div>
            <div class="feed-content" id="analysis-feed-content">
                <!-- Feed content will be added here dynamically -->
            </div>
        </div>




        
    </div>

    <div id="map-container" class="map-instance">
        <div class="map-loading" id="map-loading">
            <div class="loading-animation">
                <div class="scanning-beam"></div>
                <i class="fas fa-satellite-alt satellite-icon"></i>
            </div>
            <div class="loading-text" id="loading-text">Loading planetary data...</div>
        </div>
    </div>

    <div class="vertical-controls">
        <!-- Removed Find Similar and Search Deeper buttons -->
        <button class="btn btn-secondary" id="toggle-annotations-btn" title="Toggle Annotations">
            <i class="fas fa-draw-polygon" id="annotations-on-icon"></i>
            <i class="fas fa-slash hidden" id="annotations-off-icon"></i>
        </button>
        <button class="btn btn-secondary" id="toggle-labels-btn" title="Toggle Labels">
            <i class="fas fa-font"></i>
        </button>
        <button class="btn btn-danger" id="clear-highlights-btn" title="Clear All Highlights">
            <i class="fas fa-eraser"></i>
        </button>
    </div>

    <div class="clustering-overlay" id="clustering-overlay">
        <div class="clustering-visualization">
            <button class="close-clustering-btn" id="close-clustering-btn" title="Close">
                <i class="fas fa-times"></i>
            </button>
            <div class="cluster-legend">
                <h4>Clustering Results</h4>
                <div class="legend-items" id="legend-items">
                    </div>
            </div>
            <div class="clustering-stats">
                <div class="stat-item">
                    <div class="stat-label">Silhouette Score</div>
                    <div class="stat-value" id="silhouette-score">N/A</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Inertia Score</div>
                    <div class="stat-value" id="inertia-score">N/A</div>
                </div>
            </div>
        </div>
    </div>

    <div class="ai-results-panel" id="ai-results-panel">
        <div class="results-header">
            <h3>AI Search Results</h3>
            <div class="results-controls">
                <button class="results-btn" id="export-results-btn" title="Export Results">
                    <i class="fas fa-download"></i>
                </button>
                <button class="results-btn" id="close-results-btn" title="Close Panel">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="results-content" id="results-content">
            </div>
    </div>

    <div class="loading-overlay hidden" id="loading-overlay">
        <div class="loading-container">
            <div class="ai-loading-animation">
                <div class="neural-network">
                    <div class="node input-node"></div>
                    <div class="connection"></div>
                    <div class="node hidden-node"></div>
                    <div class="connection"></div>
                    <div class="node output-node"></div>
                </div>
            </div>
            <div class="loading-content">
                <h2 class="loading-title">AI Processing...</h2>
                <p class="loading-message" id="status-message">
                    Performing AI-powered analysis. This may take a moment.
                </p>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text" id="progress-text">0%</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
<script type="module" src="./js/analysis.js"></script>

</body>
</html>